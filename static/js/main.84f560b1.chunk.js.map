{"version":3,"sources":["components/Loading.jsx","services/favoriteSongsAPI.js","components/MusicCard.jsx","services/musicsAPI.js","services/userAPI.js","components/Header.jsx","pages/Album.jsx","pages/Favorites.jsx","pages/Login.jsx","pages/NotFound.jsx","pages/Profile.jsx","pages/ProfileEdit.jsx","services/searchAlbumsAPI.js","pages/Search.jsx","App.js","index.js"],"names":["Loading","React","Component","FAVORITE_SONGS_KEY","JSON","parse","localStorage","getItem","setItem","stringify","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","simulateRequest","response","callback","setTimeout","getFavoriteSongs","Promise","resolve","addSong","song","removeSong","filter","s","trackId","MusicCard","state","isChecked","loading","isFavorite","props","trackName","isFavoriteMusic","favoritesMusics","some","music","setState","handleChecked","target","name","checked","a","arrayMusics","dataMusic","find","this","previewUrl","className","src","controls","kind","htmlFor","type","id","onChange","getMusics","fetch","request","json","requestJson","results","USER_KEY","saveUser","user","getUser","createUser","email","image","description","Header","userName","fetchUser","to","activeClassName","Album","dataAlbum","dataArtist","fetchMusics","match","params","musics","collectionName","artistName","fetchFavoritesMusics","index","map","i","Favorites","Login","buttonDisabled","loginName","validateButton","length","handleChange","value","handleButton","event","preventDefault","history","push","placeholder","disabled","onClick","NotFound","Profile","ProfileEdit","searchAlbumsAPI","artist","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","APIResponse","artistId","collectionId","collectionPrice","artworkUrl100","releaseDate","trackCount","Search","search","albuns","result","data","validateResult","handleClick","arrayAlbuns","alt","App","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.84f560b1.chunk.js","sourcesContent":["import React from 'react';\n\nclass Loading extends React.Component {\n  render() {\n    return (\n      <p>Carregando...</p>\n    );\n  }\n}\n\nexport default Loading;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from './Loading';\nimport { addSong, removeSong } from '../services/favoriteSongsAPI';\n\nclass MusicCard extends React.Component {\n  state = {\n    isChecked: false,\n    loading: false,\n  }\n\n  componentDidMount() {\n    this.isFavorite();\n  }\n\n  isFavorite = () => {\n    const { trackName, favoritesMusics } = this.props;\n    const isFavoriteMusic = favoritesMusics\n      .some((music) => music.trackName === trackName);\n    this.setState({ isChecked: isFavoriteMusic });\n  }\n\n  handleChecked = ({ target }) => {\n    const { name, checked } = target;\n    this.setState({\n      isChecked: checked,\n      loading: true,\n    }, async () => {\n      const { arrayMusics } = this.props;\n      const dataMusic = arrayMusics\n        .find((music) => music.trackName === name);\n      if (checked) await addSong(dataMusic);\n      if (!checked) await removeSong(dataMusic);\n      this.setState({ loading: false });\n    }, () => this.isFavorite());\n  }\n\n  render() {\n    const {\n      trackName,\n      previewUrl,\n      trackId,\n    } = this.props;\n\n    const { isChecked, loading } = this.state;\n\n    if (loading) return <Loading />;\n    return (\n      <div className=\"card-music\">\n        <p>{ trackName }</p>\n        <audio data-testid=\"audio-component\" src={ previewUrl } controls>\n          <track kind=\"captions\" />\n          <code>audio</code>\n        </audio>\n        <label\n          htmlFor={ trackName }\n          data-testid={ `checkbox-music-${trackId}` }\n        >\n          Favorita\n          <input\n            type=\"checkbox\"\n            name={ trackName }\n            id={ trackName }\n            checked={ isChecked }\n            onChange={ this.handleChecked }\n          />\n        </label>\n      </div>\n    );\n  }\n}\n\nMusicCard.propTypes = {\n  trackName: PropTypes.string.isRequired,\n  previewUrl: PropTypes.string.isRequired,\n  trackId: PropTypes.number.isRequired,\n  arrayMusics: PropTypes.arrayOf.isRequired,\n  favoritesMusics: PropTypes.arrayOf.isRequired,\n};\n\nexport default MusicCard;\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { getUser } from '../services/userAPI';\nimport Loading from './Loading';\n\nclass Header extends React.Component {\n  state = {\n    userName: '',\n    loading: true,\n  }\n\n  componentDidMount() {\n    this.fetchUser();\n  }\n\n  fetchUser = async () => {\n    const user = await getUser();\n    this.setState({\n      userName: user,\n      loading: false,\n    });\n  };\n\n  render() {\n    const { userName, loading } = this.state;\n    if (loading) return <Loading />;\n    return (\n      <header>\n        <h1>TrybeTunes</h1>\n        <div className=\"data-header\">\n          <span data-testid=\"header-user-name\">{ userName.name }</span>\n          <nav data-testid=\"header-component\">\n            <NavLink\n              to=\"/search\"\n              activeClassName=\"selected\"\n              data-testid=\"link-to-search\"\n            >\n              Pesquisa\n            </NavLink>\n            <NavLink\n              to=\"/favorites\"\n              activeClassName=\"selected\"\n              data-testid=\"link-to-favorites\"\n            >\n              Favoritas\n            </NavLink>\n            <NavLink\n              to=\"/profile\"\n              activeClassName=\"selected\"\n              data-testid=\"link-to-profile\"\n            >\n              Perfil\n            </NavLink>\n          </nav>\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MusicCard from '../components/MusicCard';\nimport getMusics from '../services/musicsAPI';\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport Loading from '../components/Loading';\nimport Header from '../components/Header';\n\nclass Album extends React.Component {\n  state = {\n    loading: false,\n    arrayMusics: [],\n    dataAlbum: '',\n    dataArtist: '',\n    favoritesMusics: [],\n  }\n\n  componentDidMount() {\n    this.fetchMusics();\n    this.fetchFavoritesMusics();\n  }\n\n  fetchMusics = async () => {\n    const { match } = this.props;\n    const { id } = match.params;\n    const musics = await getMusics(id);\n    this.setState({\n      arrayMusics: musics,\n      dataAlbum: musics[0].collectionName,\n      dataArtist: musics[0].artistName,\n    });\n  }\n\n  fetchFavoritesMusics = () => {\n    this.setState({\n      loading: true,\n    }, async () => this.setState({\n      favoritesMusics: await getFavoriteSongs(),\n      loading: false,\n    }));\n  }\n\n  render() {\n    const { loading, arrayMusics, dataAlbum, dataArtist, favoritesMusics } = this.state;\n\n    if (loading) return <Loading />;\n    return (\n      <div data-testid=\"page-album\" className=\"page-album\">\n        <Header />\n        <h3 data-testid=\"album-name\">{ dataAlbum }</h3>\n        <span data-testid=\"artist-name\">{ dataArtist }</span>\n        <div className=\"musics-album\">\n          {\n            arrayMusics\n              .filter((musics, index) => index !== 0)\n              .map(({ trackName, previewUrl, trackId }, i) => (\n                <MusicCard\n                  key={ i }\n                  trackName={ trackName }\n                  previewUrl={ previewUrl }\n                  trackId={ trackId }\n                  arrayMusics={ arrayMusics }\n                  favoritesMusics={ favoritesMusics }\n                />\n              ))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport default Album;\n","import React from 'react';\nimport Header from '../components/Header';\n\nclass Favorites extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-favorites\">\n        <Header />\n        Favoritos em construção\n      </div>\n    );\n  }\n}\n\nexport default Favorites;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../components/Loading';\nimport { createUser } from '../services/userAPI';\n\nclass Login extends React.Component {\n  state = {\n    loading: false,\n    buttonDisabled: true,\n    loginName: '',\n  }\n\n  validateButton = (name) => {\n    const minName = 3;\n    return name.length < minName;\n  }\n\n  handleChange = ({ target }) => {\n    this.setState({\n      loginName: target.value,\n      buttonDisabled: this.validateButton(target.value),\n    });\n  }\n\n  handleButton = (event) => {\n    event.preventDefault();\n\n    const { loginName } = this.state;\n    const { history } = this.props;\n\n    this.setState({\n      loading: true,\n    }, async () => {\n      await createUser({ name: loginName });\n      history.push('/search');\n    });\n  }\n\n  render() {\n    const { loginName, buttonDisabled, loading } = this.state;\n\n    if (loading) return <Loading />;\n    return (\n      <main data-testid=\"page-login\">\n        <div className=\"login\">\n          <h2>Login</h2>\n          <label htmlFor=\"loginName\">\n            <input\n              data-testid=\"login-name-input\"\n              type=\"text\"\n              name=\"loginName\"\n              placeholder=\"Nome do usuário\"\n              value={ loginName }\n              onChange={ this.handleChange }\n            />\n          </label>\n          <button\n            data-testid=\"login-submit-button\"\n            type=\"submit\"\n            disabled={ buttonDisabled }\n            onClick={ this.handleButton }\n          >\n            Entrar\n          </button>\n        </div>\n      </main>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default Login;\n","import React from 'react';\n\nclass NotFound extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-not-found\">\n        NotFound\n      </div>\n    );\n  }\n}\n\nexport default NotFound;\n","import React from 'react';\nimport Header from '../components/Header';\n\nclass Profile extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile\">\n        <Header />\n        perfil  em construção\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n","import React from 'react';\nimport Header from '../components/Header';\n\nclass ProfileEdit extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n        perfil  em construção\n      </div>\n    );\n  }\n}\n\nexport default ProfileEdit;\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\n\nclass Search extends React.Component {\n  state = {\n    search: '',\n    buttonDisabled: true,\n    albuns: [],\n    result: '',\n    loading: false,\n  }\n\n  validateButton = (data) => {\n    const min = 2;\n    return data.length < min;\n  }\n\n  validateResult = () => {\n    const { albuns, search } = this.state;\n    if (albuns.length === 0) {\n      this.setState({\n        result: 'Nenhum álbum foi encontrado',\n        search: '',\n      });\n    } else {\n      this.setState({\n        result: `Resultado de álbuns de: ${search}`,\n        search: '',\n      });\n    }\n  }\n\n  handleChange = ({ target }) => {\n    this.setState({\n      search: target.value,\n      buttonDisabled: this.validateButton(target.value),\n    });\n  }\n\n  handleClick = async () => {\n    const { search } = this.state;\n    this.setState({ loading: true });\n    const arrayAlbuns = await searchAlbumsAPI(search);\n    this.setState({\n      loading: false,\n      albuns: arrayAlbuns,\n    }, () => this.validateResult());\n  }\n\n  render() {\n    const { search, buttonDisabled, albuns, result, loading } = this.state;\n    if (loading) return <Loading />;\n    return (\n      <div data-testid=\"page-search\" className=\"search\">\n        <Header />\n        <form>\n          <label htmlFor=\"searchArtist\">\n            <input\n              type=\"text\"\n              name=\"searchArtist\"\n              data-testid=\"search-artist-input\"\n              value={ search }\n              onChange={ this.handleChange }\n            />\n          </label>\n          <button\n            type=\"button\"\n            data-testid=\"search-artist-button\"\n            disabled={ buttonDisabled }\n            onClick={ this.handleClick }\n          >\n            Pesquisar\n          </button>\n        </form>\n        <h3>{ result }</h3>\n        <div className=\"search-results\">\n          {\n            albuns.map(({ collectionId, collectionName, artworkUrl100, artistName }) => (\n              <div key={ collectionId } className=\"card-album\">\n                <Link\n                  to={ `/album/${collectionId}` }\n                  data-testid={ `link-to-album-${collectionId}` }\n                >\n                  <h4>{artistName}</h4>\n                  <p>{collectionName}</p>\n                  <img src={ artworkUrl100 } alt={ collectionName } />\n                </Link>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Album from './pages/Album';\nimport Favorites from './pages/Favorites';\nimport Login from './pages/Login';\nimport NotFound from './pages/NotFound';\nimport Profile from './pages/Profile';\nimport ProfileEdit from './pages/ProfileEdit';\nimport Search from './pages/Search';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div>\n        <Switch>\n          <Route path=\"/\" component={ Login } exact />\n          <Route path=\"/search\" component={ Search } />\n          <Route path=\"/album/:id\" component={ Album } />\n          <Route path=\"/favorites\" component={ Favorites } />\n          <Route path=\"/profile\" component={ Profile } exact />\n          <Route path=\"/profile/edit\" component={ ProfileEdit } />\n          <Route path=\"*\" component={ NotFound } />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}